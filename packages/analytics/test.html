<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Library Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // Mock the analytics library for testing
        const { useState, useEffect } = React;
        
        // Simulate your analytics provider
        function TestAnalyticsProvider({ children }) {
            useEffect(() => {
                console.log('[Test] Analytics provider initialized');
                
                // Test event tracking
                setTimeout(() => {
                    console.log('[Test] Tracking pageview event');
                }, 1000);
                
                // Test external link enhancement
                const links = document.querySelectorAll('a[href^="http"]');
                links.forEach(link => {
                    const originalHref = link.href;
                    link.href = `${originalHref}?utm_source=firebuzz&frbzz_token=test-token-123`;
                    console.log('[Test] Enhanced link:', { original: originalHref, enhanced: link.href });
                });
            }, []);
            
            return children;
        }
        
        function TestPage() {
            return (
                <TestAnalyticsProvider>
                    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
                        <h1>ðŸ”¥ Analytics Library Test Page</h1>
                        
                        <div style={{ marginBottom: '20px' }}>
                            <h2>Test Cases:</h2>
                            <ul>
                                <li>âœ… Page Load Event</li>
                                <li>âœ… DOM Ready Event</li>
                                <li>âœ… Pageview Tracking</li>
                            </ul>
                        </div>
                        
                        <div style={{ marginBottom: '20px' }}>
                            <h3>External Links (should get enhanced with tracking):</h3>
                            <p>
                                <a href="https://google.com" target="_blank">Go to Google</a><br/>
                                <a href="https://github.com" target="_blank">Go to GitHub</a><br/>
                            </p>
                        </div>
                        
                        <div style={{ marginBottom: '20px' }}>
                            <h3>Test Form:</h3>
                            <form onSubmit={(e) => { e.preventDefault(); console.log('[Test] Form submitted'); }}>
                                <input type="email" placeholder="test@example.com" /><br/><br/>
                                <button type="submit">Submit Form</button>
                            </form>
                        </div>
                        
                        <div style={{ marginBottom: '20px' }}>
                            <h3>Scroll Test:</h3>
                            <div style={{ height: '200vh', background: 'linear-gradient(to bottom, #f0f0f0, #d0d0d0)' }}>
                                <p>Scroll down to test scroll tracking...</p>
                            </div>
                        </div>
                    </div>
                </TestAnalyticsProvider>
            );
        }
        
        ReactDOM.render(<TestPage />, document.getElementById('root'));
    </script>
</body>
</html>